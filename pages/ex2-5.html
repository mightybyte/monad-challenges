<!DOCTYPE html>
<html><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>The Monad Challenges</title>

    <link rel="stylesheet" href="../stylesheets/styles.css">
    <link rel="stylesheet" href="../stylesheets/github-light.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header"><a href="../">The Monad Challenges</a></h1>
        <p class="header">A set of challenges for jump starting your understanding of monads.</p>

        <h1 class="header">Outline</h1>

        
          <p><a href="../pages/set1.html">Set 1: Random Numbers</a></p>
        
          <p><a href="../pages/set2.html">Set 2: Failing Computations</a></p>
        
          <p><a href="../pages/set3.html">Set 3: Combinations</a></p>
        
          <p><a href="../pages/set4.html">Set 4: Common Abstraction</a></p>
        
          <p><a href="../pages/set5.html">Set 5: Do Notation</a></p>
        

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/mightybyte/monad-challenges/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/mightybyte/monad-challenges/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/mightybyte/monad-challenges">View On GitHub</a></li>
        </ul>

        <p class="author header">This project is maintained by <a class="header name" href="https://github.com/mightybyte">mightybyte</a></p>

        <p class="license">
          <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.
        </p>

      </header>
      <section>
        <h1>Chaining variations</h1>

        <p>Our division function returned a Maybe because there is a case when it can’t give a meaningful answer. But what if we were using a different operator that doesn’t fail?</p>
<pre><code>salaries :: [(String, Integer)]
salaries = [ (&quot;alice&quot;, 105000)
           , (&quot;bob&quot;, 90000)
           , (&quot;carol&quot;, 85000)
           ]</code></pre>
<p>Write a function addSalaries that adds two salaries by person name.</p>
<pre><code>addSalaries :: [(String, Integer)] -&gt; String -&gt; String -&gt; Maybe Integer</code></pre>
<p>You give this function a data structure with salary info and the names of two people and it returns the sum of their salaries. But if you give it a name that is not in the list, then there is no way to add the salaries so it should return Nothing.</p>
<p>Now generalize this pattern in the same way we generalized chain/link in the previous exercise.</p>
<p>Call this function yLink…because it is kind of like a y-shaped chain/link. Coming up with the right type signature is often the tricky part. Take a look at how we came up with the chain type signature in the last exercise and see if you can came up with yLink’s type signature. Make a serious effort here.</p>
<p>If you were not able to come up with a good generalized type signature, here is the hex encoded version of what we are looking for.</p>
<pre><code>794C696E6B203A3A202861202D3E2062202D3E206329202D3E204D617962652061202D3E204D617962652062202D3E204D617962652063</code></pre>
<p>Once you have the type signature, implement yLink using link. <em>Do not use cases or pattern matching</em>. Once you have that working, implement addSalaries again as addSalaries2 using yLink this time.</p>
<p>Notice that in both addSalaries and yLink you have to construct a Maybe out of thin air kind of like we did in Set 1 with mkGen. Write a similar function for Maybes with this type signature.</p>
<pre><code>mkMaybe :: a -&gt; Maybe a</code></pre>
<p>Now use this function in your addSalaries and yLink functions. You’ll probably find this easier for Maybe than it was for Gen. It may not seem worthwhile, but this is all about finding common patterns. This pattern has come up twice in two different contexts now, so it’s probably worth paying attention to.</p>

      </section>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script><script src="http://www.google-analytics.com/ga.js" type="text/javascript"></script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-72594732-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>
</body></html>
