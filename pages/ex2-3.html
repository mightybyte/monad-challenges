<!DOCTYPE html>
<html><head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>The Monad Challenges</title>

    <link rel="stylesheet" href="../stylesheets/styles.css">
    <link rel="stylesheet" href="../stylesheets/github-light.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1 class="header"><a href="../">The Monad Challenges</a></h1>
        <p class="header">A set of challenges for jump starting your understanding of monads.</p>

        <h1 class="header">Outline</h1>

        
          <p><a href="../pages/set1.html">Set 1: Random Numbers</a></p>
        
          <p><a href="../pages/set2.html">Set 2: Failing Computations</a></p>
        
          <p><a href="../pages/set3.html">Set 3: Combinations</a></p>
        
          <p><a href="../pages/set4.html">Set 4: Common Abstraction</a></p>
        
          <p><a href="../pages/set5.html">Set 5: Do Notation</a></p>
        

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/mightybyte/monad-challenges/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/mightybyte/monad-challenges/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/mightybyte/monad-challenges">View On GitHub</a></li>
        </ul>

        <p class="author header">This project is maintained by <a class="header name" href="https://github.com/mightybyte">mightybyte</a></p>

        <p class="license">
          <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png" /></a><br />This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License</a>.
        </p>

      </header>
      <section>
        <h1>Chains of Failing Computations</h1>

        <p>In MCPrelude we have defined the following type alias for you.</p>
<pre><code>type GreekData = [(String, [Integer])]</code></pre>
<p>We also provide two data structures <code>greekDataA, greekDataB :: GreekData</code> that have some sample data.</p>
<p>Write a function to query the above data structure. Your function should have the following type signature:</p>
<pre><code>queryGreek :: GreekData -&gt; String -&gt; Maybe Double</code></pre>
<p>Your implementation of this function should use the functions you wrote in the previous exercise to do the following. First query the GreekData that is passed in, look up the string passed in the second argument, and retrieve the corresponding list of Integers. Call this list xs. Next calculate the maximum of the tail of xs. (Don’t use any pattern matching here. Use case expressions and the maximumMay and tailMay functions you wrote in the last exercise.) Take the maximum and divide it by the head of the list (using your headMay and divMay functions). If any of these operations along the way return Nothing, then your function should return Nothing. But if everything succeeds, then return the final quotient. One hint…you’ll need to use the fromIntegral function to convert your two integers to Doubles for the final call to divMay.</p>
<p>You will probably find this function pretty annoying to implement. Stick with us though…there is a point. The more you feel the pain now, the more the solutions will stick in your head later.</p>
<p>Your function should generate the following results:</p>
<pre><code>queryGreek greekDataA &quot;alpha&quot; == Just 2.0
queryGreek greekDataA &quot;beta&quot; == Nothing
queryGreek greekDataA &quot;gamma&quot; == Just 3.3333333333333335
queryGreek greekDataA &quot;delta&quot; == Nothing
queryGreek greekDataA &quot;zeta&quot; == Nothing

queryGreek greekDataB &quot;rho&quot; == Nothing
queryGreek greekDataB &quot;phi&quot; == Just 0.24528301886792453
queryGreek greekDataB &quot;chi&quot; == Just 9.095238095238095
queryGreek greekDataB &quot;psi&quot; == Nothing
queryGreek greekDataB &quot;omega&quot; == Just 24.0</code></pre>
<p>If your function threw any kind of exception on any of those inputs, then your implementation is wrong. Make sure your function always returns a Nothing or a Just in every case.</p>

      </section>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
              <script type="text/javascript">
            var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
            document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
          </script><script src="http://www.google-analytics.com/ga.js" type="text/javascript"></script>
          <script type="text/javascript">
            try {
              var pageTracker = _gat._getTracker("UA-72594732-1");
            pageTracker._trackPageview();
            } catch(err) {}
          </script>
</body></html>
